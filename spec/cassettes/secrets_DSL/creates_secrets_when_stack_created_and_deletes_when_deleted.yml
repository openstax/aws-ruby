---
http_interactions:
- request:
    method: get
    uri: https://raw.githubusercontent.com/openstax/aws-ruby/356cd2ac1c04e693f649645f71d3590e24420563/spec/support/secrets_dsl/secrets.yml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Security-Policy:
      - default-src 'none'; style-src 'unsafe-inline'; sandbox
      Strict-Transport-Security:
      - max-age=31536000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-Xss-Protection:
      - 1; mode=block
      Etag:
      - '"5dd66222893a97dfe7024e26a89a285986a15a98"'
      Content-Type:
      - text/plain; charset=utf-8
      Cache-Control:
      - max-age=300
      X-Geo-Block-List:
      - ''
      X-Github-Request-Id:
      - FD8A:0954:3BB30A:465FD0:5CF4596A
      Content-Length:
      - '75'
      Accept-Ranges:
      - bytes
      Date:
      - Sun, 02 Jun 2019 23:19:07 GMT
      Via:
      - 1.1 varnish
      Connection:
      - keep-alive
      X-Served-By:
      - cache-den19627-DEN
      X-Cache:
      - MISS
      X-Cache-Hits:
      - '0'
      X-Timer:
      - S1559517548.791083,VS0,VE133
      Vary:
      - Authorization,Accept-Encoding
      Access-Control-Allow-Origin:
      - "*"
      X-Fastly-Request-Id:
      - b65575158584cafdc87e1a2b42ce586cc535382d
      Expires:
      - Sun, 02 Jun 2019 23:24:07 GMT
      Source-Age:
      - '0'
    body:
      encoding: ASCII-8BIT
      string: |
        production:
          random: random(hex,4)
          interpolated: "https://{{ domain }}"
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:07 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231907Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 40e52100-3023-41d7-9596-894a837efaa5
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '17'
      Date:
      - Sun, 02 Jun 2019 23:19:08 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[]}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:08 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/random","Type":"String","Value":"a9fa370f"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.PutParameter
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231908Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 5e9454309cc8239b9b86eba534b85fe1a877efce775ac7272308995828fa5477
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '96'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 65edd192-3219-4c07-8173-0f64f64ad660
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '13'
      Date:
      - Sun, 02 Jun 2019 23:19:07 GMT
    body:
      encoding: UTF-8
      string: '{"Version":1}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:08 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","Type":"String","Value":"https://something-deployment-specific"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.PutParameter
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231908Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - d46b4c41e8475cb93e083c89601967b609e432fd803aa891f1a0086cfd746875
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '131'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 324732b7-b523-4fde-a52e-7bf6c9b693d7
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '13'
      Date:
      - Sun, 02 Jun 2019 23:19:09 GMT
    body:
      encoding: UTF-8
      string: '{"Version":1}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:09 GMT
- request:
    method: post
    uri: https://cloudformation.us-west-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=ValidateTemplate&TemplateBody=Description%3A%20%3E%0A%20%20Secrets%20DSL%20spec%0A%0AParameters%3A%0A%0A%20%20BucketName%3A%0A%20%20%20%20Type%3A%20String%0A%0A%20%20SomeSha%3A%0A%20%20%20%20Type%3A%20String%0A%0AResources%3A%0A%0A%20%20S3Bucket%3A%0A%20%20%20%20Type%3A%20AWS%3A%3AS3%3A%3ABucket%0A%20%20%20%20Properties%3A%0A%20%20%20%20%20%20BucketName%3A%20%21Ref%20%27BucketName%27%0A%0AOutputs%3A%0A%0A%20%20BucketArn%3A%0A%20%20%20%20Value%3A%20%21GetAtt%20%27S3Bucket.Arn%27%0A%20%20%20%20Export%3A%0A%20%20%20%20%20%20Name%3A%20%21Sub%20%27%24%7BAWS%3A%3AStackName%7D-BucketArn%27%0A&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-west-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231909Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 479155109bfc1ca9b74fbbc4c6ed0321c6a06e7e293714258d02de81c648c547
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-west-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '618'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - d30a16ca-858c-11e9-bd71-0939602c98f8
      Content-Type:
      - text/xml
      Content-Length:
      - '578'
      Date:
      - Sun, 02 Jun 2019 23:19:09 GMT
    body:
      encoding: UTF-8
      string: |
        <ValidateTemplateResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <ValidateTemplateResult>
            <Description>Secrets DSL spec
        </Description>
            <Parameters>
              <member>
                <ParameterKey>BucketName</ParameterKey>
                <NoEcho>false</NoEcho>
              </member>
              <member>
                <ParameterKey>SomeSha</ParameterKey>
                <NoEcho>false</NoEcho>
              </member>
            </Parameters>
          </ValidateTemplateResult>
          <ResponseMetadata>
            <RequestId>d30a16ca-858c-11e9-bd71-0939602c98f8</RequestId>
          </ResponseMetadata>
        </ValidateTemplateResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:09 GMT
- request:
    method: put
    uri: https://openstax-sandbox-cfn-templates.s3.us-west-2.amazonaws.com/cfn_templates/spec-templates/main.yml
    body:
      encoding: UTF-8
      string: |
        Description: >
          Secrets DSL spec

        Parameters:

          BucketName:
            Type: String

          SomeSha:
            Type: String

        Resources:

          S3Bucket:
            Type: AWS::S3::Bucket
            Properties:
              BucketName: !Ref 'BucketName'

        Outputs:

          BucketArn:
            Value: !GetAtt 'S3Bucket.Arn'
            Export:
              Name: !Sub '${AWS::StackName}-BucketArn'
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-s3/1.34.0
      Expect:
      - 100-continue
      Content-Md5:
      - eSHudKpbzkirOlzgx2Bybw==
      Host:
      - openstax-sandbox-cfn-templates.s3.us-west-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231909Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 30c82130db1af97491e0e65421bc4f5fb1998fbfe7cf2000709171845c8c418a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-west-2/s3/aws4_request,
        SignedHeaders=content-md5;expect;host;user-agent;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '328'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - DAq7bY1KXEbm+g51Pc3VKK/0lQhYY/3iQuCnGPx5utHr/z1ASe6j2ix6funHFFgpkN2pIImuIcI=
      X-Amz-Request-Id:
      - A5C6C375E955E944
      Date:
      - Sun, 02 Jun 2019 23:19:10 GMT
      X-Amz-Version-Id:
      - Qfh1fjz.H5bPMdssejP7aq91hXKtMVSo
      X-Amz-Server-Side-Encryption:
      - AES256
      Etag:
      - '"7921ee74aa5bce48ab3a5ce0c760726f"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:10 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=CreateStack&Capabilities=&EnableTerminationProtection=false&Parameters.member.1.ParameterKey=SomeSha&Parameters.member.1.ParameterValue=356cd2ac1c04e693f649645f71d3590e24420563&Parameters.member.2.ParameterKey=BucketName&Parameters.member.2.ParameterValue=aws-ruby-spec-secrets-dsl-create&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&TemplateURL=https%3A%2F%2Fs3.amazonaws.com%2Fopenstax-sandbox-cfn-templates%2Fcfn_templates%2Fspec-templates%2Fmain.yml&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231910Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 75c6b97e090bbd55e88f16cb283ed52be97fc2bc3770867be293bbdae2d65aa1
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '492'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - d3a4d05f-858c-11e9-956a-dd4dc19d219e
      Content-Type:
      - text/xml
      Content-Length:
      - '419'
      Date:
      - Sun, 02 Jun 2019 23:19:10 GMT
    body:
      encoding: UTF-8
      string: |
        <CreateStackResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <CreateStackResult>
            <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
          </CreateStackResult>
          <ResponseMetadata>
            <RequestId>d3a4d05f-858c-11e9-956a-dd4dc19d219e</RequestId>
          </ResponseMetadata>
        </CreateStackResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:11 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231911Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - d47391d2-858c-11e9-ad9e-3d87012503c9
      Content-Type:
      - text/xml
      Content-Length:
      - '1502'
      Date:
      - Sun, 02 Jun 2019 23:19:11 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <StackStatusReason>User Initiated</StackStatusReason>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>d47391d2-858c-11e9-ad9e-3d87012503c9</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:11 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231911Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - d4b7781f-858c-11e9-956a-dd4dc19d219e
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Sun, 02 Jun 2019 23:19:11 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>d4b7781f-858c-11e9-956a-dd4dc19d219e</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:12 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231917Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - d7f899ee-858c-11e9-ad9e-3d87012503c9
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Sun, 02 Jun 2019 23:19:17 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>d7f899ee-858c-11e9-ad9e-3d87012503c9</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:17 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231922Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - db36d50e-858c-11e9-9465-4f482f63f896
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Sun, 02 Jun 2019 23:19:22 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>db36d50e-858c-11e9-9465-4f482f63f896</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:23 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231928Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - de727734-858c-11e9-900d-edb65e53a196
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Sun, 02 Jun 2019 23:19:28 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>de727734-858c-11e9-900d-edb65e53a196</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:28 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231933Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - e1af533b-858c-11e9-a6f3-2ddcf47e69da
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Sun, 02 Jun 2019 23:19:33 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>e1af533b-858c-11e9-a6f3-2ddcf47e69da</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:34 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231939Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - e4ebb9f7-858c-11e9-956a-dd4dc19d219e
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Sun, 02 Jun 2019 23:19:39 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>e4ebb9f7-858c-11e9-956a-dd4dc19d219e</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:39 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231944Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - e826993e-858c-11e9-add5-012a71697fc5
      Content-Type:
      - text/xml
      Content-Length:
      - '1738'
      Date:
      - Sun, 02 Jun 2019 23:19:44 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <ExportName>openstax-aws-ruby-secrets-secrets-dsl-spec-main-BucketArn</ExportName>
                    <OutputKey>BucketArn</OutputKey>
                    <OutputValue>arn:aws:s3:::aws-ruby-spec-secrets-dsl-create</OutputValue>
                  </member>
                </Outputs>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_COMPLETE</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>e826993e-858c-11e9-add5-012a71697fc5</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:44 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231944Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - add6ebf2-b4ed-4125-bcd4-0a3652bcad9a
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '557'
      Date:
      - Sun, 02 Jun 2019 23:19:44 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","LastModifiedDate":1.559517549045E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","Type":"String","Value":"https://something-deployment-specific","Version":1},{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/random","LastModifiedDate":1.559517548677E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/random","Type":"String","Value":"a9fa370f","Version":1}]}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:45 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231945Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 4e2a89a9-83b0-4350-86e6-66c8721061c7
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '557'
      Date:
      - Sun, 02 Jun 2019 23:19:45 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","LastModifiedDate":1.559517549045E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","Type":"String","Value":"https://something-deployment-specific","Version":1},{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/random","LastModifiedDate":1.559517548677E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/random","Type":"String","Value":"a9fa370f","Version":1}]}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:45 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Names":["/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","/openstax-aws-ruby-secrets/secrets-dsl-spec/random"]}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.DeleteParameters
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231945Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 8ad4a8b2561c4e2c09b8025a460469cefc713db58279aba9adae27298b442b17
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '123'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 9ce06610-4955-4184-919a-a0bd0131ffa0
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '158'
      Date:
      - Sun, 02 Jun 2019 23:19:46 GMT
    body:
      encoding: UTF-8
      string: '{"DeletedParameters":["/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","/openstax-aws-ruby-secrets/secrets-dsl-spec/random"],"InvalidParameters":[]}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:46 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DeleteStack&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231946Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - a5000bf791a40989964ea0e8de9c3104f1c1bb65e6267d7cc59c4bcec8b9f3d4
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '95'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - e90eaf04-858c-11e9-ad9e-3d87012503c9
      Content-Type:
      - text/xml
      Content-Length:
      - '212'
      Date:
      - Sun, 02 Jun 2019 23:19:46 GMT
    body:
      encoding: UTF-8
      string: |
        <DeleteStackResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <ResponseMetadata>
            <RequestId>e90eaf04-858c-11e9-ad9e-3d87012503c9</RequestId>
          </ResponseMetadata>
        </DeleteStackResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:46 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231946Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - e971b724-858c-11e9-add5-012a71697fc5
      Content-Type:
      - text/xml
      Content-Length:
      - '1803'
      Date:
      - Sun, 02 Jun 2019 23:19:47 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <ExportName>openstax-aws-ruby-secrets-secrets-dsl-spec-main-BucketArn</ExportName>
                    <OutputKey>BucketArn</OutputKey>
                    <OutputValue>arn:aws:s3:::aws-ruby-spec-secrets-dsl-create</OutputValue>
                  </member>
                </Outputs>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>DELETE_IN_PROGRESS</StackStatus>
                <DeletionTime>2019-06-02T23:19:46.528Z</DeletionTime>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>e971b724-858c-11e9-add5-012a71697fc5</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:47 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231947Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - e9b1cd6c-858c-11e9-add5-012a71697fc5
      Content-Type:
      - text/xml
      Content-Length:
      - '1803'
      Date:
      - Sun, 02 Jun 2019 23:19:47 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <ExportName>openstax-aws-ruby-secrets-secrets-dsl-spec-main-BucketArn</ExportName>
                    <OutputKey>BucketArn</OutputKey>
                    <OutputValue>arn:aws:s3:::aws-ruby-spec-secrets-dsl-create</OutputValue>
                  </member>
                </Outputs>
                <CreationTime>2019-06-02T23:19:11.202Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/d3b486d0-858c-11e9-a12f-0a768148c3d2</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>DELETE_IN_PROGRESS</StackStatus>
                <DeletionTime>2019-06-02T23:19:46.528Z</DeletionTime>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>356cd2ac1c04e693f649645f71d3590e24420563</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>e9b1cd6c-858c-11e9-add5-012a71697fc5</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:47 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231952Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Amzn-Requestid:
      - ecf908fd-858c-11e9-b66a-e515bc30a507
      Content-Type:
      - text/xml
      Content-Length:
      - '333'
      Date:
      - Sun, 02 Jun 2019 23:19:52 GMT
      Connection:
      - close
    body:
      encoding: UTF-8
      string: |
        <ErrorResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <Error>
            <Type>Sender</Type>
            <Code>ValidationError</Code>
            <Message>Stack with id openstax-aws-ruby-secrets-secrets-dsl-spec-main does not exist</Message>
          </Error>
          <RequestId>ecf908fd-858c-11e9-b66a-e515bc30a507</RequestId>
        </ErrorResponse>
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:53 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190602T231953Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190602/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 34873a2d-5877-4b55-97db-e6b00507eca6
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '17'
      Date:
      - Sun, 02 Jun 2019 23:19:52 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[]}'
    http_version: 
  recorded_at: Sun, 02 Jun 2019 23:19:53 GMT
recorded_with: VCR 4.0.0
