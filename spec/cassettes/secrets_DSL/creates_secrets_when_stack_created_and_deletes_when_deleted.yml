---
http_interactions:
- request:
    method: get
    uri: https://raw.githubusercontent.com/openstax/aws-ruby/1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e/spec/support/secrets_dsl/secrets.yml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Security-Policy:
      - default-src 'none'; style-src 'unsafe-inline'; sandbox
      Strict-Transport-Security:
      - max-age=31536000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-Xss-Protection:
      - 1; mode=block
      Etag:
      - '"3c85f30f8f6a63153d5c202cd5be2e0b3fb6ffef"'
      Content-Type:
      - text/plain; charset=utf-8
      Cache-Control:
      - max-age=300
      X-Geo-Block-List:
      - ''
      X-Github-Request-Id:
      - 2184:5C7E:16FD9:1A399:5CF558DF
      Content-Length:
      - '129'
      Accept-Ranges:
      - bytes
      Date:
      - Mon, 03 Jun 2019 17:30:14 GMT
      Via:
      - 1.1 varnish
      Connection:
      - keep-alive
      X-Served-By:
      - cache-den19621-DEN
      X-Cache:
      - HIT
      X-Cache-Hits:
      - '1'
      X-Timer:
      - S1559583015.561792,VS0,VE0
      Vary:
      - Authorization,Accept-Encoding
      Access-Control-Allow-Origin:
      - "*"
      X-Fastly-Request-Id:
      - cb197ad4784d9c818ad006dd446be13170afe020
      Expires:
      - Mon, 03 Jun 2019 17:35:14 GMT
      Source-Age:
      - '68'
    body:
      encoding: ASCII-8BIT
      string: |
        production:
          random: random(hex,4)
          interpolated: "https://{{ domain }}"
          for_shared_substitution: "howdy {{ shared_value }}"
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:14 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173014Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 02bf9141-adeb-4d69-a8c4-97caa4d29286
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '17'
      Date:
      - Mon, 03 Jun 2019 17:30:14 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[]}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:14 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/random","Type":"String","Value":"5c391c32"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.PutParameter
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173014Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 3d340514324e20adfd53d3f37fd427c3c19ce944de4157fe04a22557b6c3c5f2
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '96'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - db5c8b99-dc77-49df-9938-e5e9f983f36a
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '13'
      Date:
      - Mon, 03 Jun 2019 17:30:14 GMT
    body:
      encoding: UTF-8
      string: '{"Version":1}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:15 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","Type":"String","Value":"https://something-deployment-specific"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.PutParameter
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173015Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - d46b4c41e8475cb93e083c89601967b609e432fd803aa891f1a0086cfd746875
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '131'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 910c8515-8ac4-4de4-b613-0a326270cb14
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '13'
      Date:
      - Mon, 03 Jun 2019 17:30:15 GMT
    body:
      encoding: UTF-8
      string: '{"Version":1}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:15 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","Type":"String","Value":"howdy
        y''all"}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.PutParameter
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173015Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 37382d8c353f12f25b05a61c2147dc91142031915526a1d0a8006c4a8cbc7b9b
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '116'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 74bffa2b-f1ad-43f9-b5e2-5146eed6dcaf
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '13'
      Date:
      - Mon, 03 Jun 2019 17:30:15 GMT
    body:
      encoding: UTF-8
      string: '{"Version":1}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:16 GMT
- request:
    method: post
    uri: https://cloudformation.us-west-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=ValidateTemplate&TemplateBody=Description%3A%20%3E%0A%20%20Secrets%20DSL%20spec%0A%0AParameters%3A%0A%0A%20%20BucketName%3A%0A%20%20%20%20Type%3A%20String%0A%0A%20%20SomeSha%3A%0A%20%20%20%20Type%3A%20String%0A%0AResources%3A%0A%0A%20%20S3Bucket%3A%0A%20%20%20%20Type%3A%20AWS%3A%3AS3%3A%3ABucket%0A%20%20%20%20Properties%3A%0A%20%20%20%20%20%20BucketName%3A%20%21Ref%20%27BucketName%27%0A%0AOutputs%3A%0A%0A%20%20BucketArn%3A%0A%20%20%20%20Value%3A%20%21GetAtt%20%27S3Bucket.Arn%27%0A%20%20%20%20Export%3A%0A%20%20%20%20%20%20Name%3A%20%21Sub%20%27%24%7BAWS%3A%3AStackName%7D-BucketArn%27%0A&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-west-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173016Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 479155109bfc1ca9b74fbbc4c6ed0321c6a06e7e293714258d02de81c648c547
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-west-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '618'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 405c3f11-8625-11e9-b0d4-8bf9ad008b3f
      Content-Type:
      - text/xml
      Content-Length:
      - '578'
      Date:
      - Mon, 03 Jun 2019 17:30:16 GMT
    body:
      encoding: UTF-8
      string: |
        <ValidateTemplateResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <ValidateTemplateResult>
            <Description>Secrets DSL spec
        </Description>
            <Parameters>
              <member>
                <ParameterKey>BucketName</ParameterKey>
                <NoEcho>false</NoEcho>
              </member>
              <member>
                <ParameterKey>SomeSha</ParameterKey>
                <NoEcho>false</NoEcho>
              </member>
            </Parameters>
          </ValidateTemplateResult>
          <ResponseMetadata>
            <RequestId>405c3f11-8625-11e9-b0d4-8bf9ad008b3f</RequestId>
          </ResponseMetadata>
        </ValidateTemplateResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:16 GMT
- request:
    method: put
    uri: https://openstax-sandbox-cfn-templates.s3.us-west-2.amazonaws.com/cfn_templates/spec-templates/main.yml
    body:
      encoding: UTF-8
      string: |
        Description: >
          Secrets DSL spec

        Parameters:

          BucketName:
            Type: String

          SomeSha:
            Type: String

        Resources:

          S3Bucket:
            Type: AWS::S3::Bucket
            Properties:
              BucketName: !Ref 'BucketName'

        Outputs:

          BucketArn:
            Value: !GetAtt 'S3Bucket.Arn'
            Export:
              Name: !Sub '${AWS::StackName}-BucketArn'
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-s3/1.34.0
      Expect:
      - 100-continue
      Content-Md5:
      - eSHudKpbzkirOlzgx2Bybw==
      Host:
      - openstax-sandbox-cfn-templates.s3.us-west-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173016Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 30c82130db1af97491e0e65421bc4f5fb1998fbfe7cf2000709171845c8c418a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-west-2/s3/aws4_request,
        SignedHeaders=content-md5;expect;host;user-agent;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '328'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - J9qrp7jdZ2Nt0P/bkqzlvT2LcaTrRaAlnhetuswN5KlFbdUoch0TQ3SuBLJCDMuqmPnzU+KN7PI=
      X-Amz-Request-Id:
      - 4622808A6426E34E
      Date:
      - Mon, 03 Jun 2019 17:30:17 GMT
      X-Amz-Version-Id:
      - NELSlNRlFZcQFK1Uh8EbWt6aMWC4HHMZ
      X-Amz-Server-Side-Encryption:
      - AES256
      Etag:
      - '"7921ee74aa5bce48ab3a5ce0c760726f"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:17 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=CreateStack&Capabilities=&EnableTerminationProtection=false&Parameters.member.1.ParameterKey=SomeSha&Parameters.member.1.ParameterValue=1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e&Parameters.member.2.ParameterKey=BucketName&Parameters.member.2.ParameterValue=aws-ruby-spec-secrets-dsl-create&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&TemplateURL=https%3A%2F%2Fs3.amazonaws.com%2Fopenstax-sandbox-cfn-templates%2Fcfn_templates%2Fspec-templates%2Fmain.yml&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173017Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 0efcada8844666611cbeeee0d048eb4b18547095ad4d23b6f67381bcbd9f4f5c
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '492'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 40f8a6b3-8625-11e9-ad9e-3d87012503c9
      Content-Type:
      - text/xml
      Content-Length:
      - '419'
      Date:
      - Mon, 03 Jun 2019 17:30:17 GMT
    body:
      encoding: UTF-8
      string: |
        <CreateStackResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <CreateStackResult>
            <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
          </CreateStackResult>
          <ResponseMetadata>
            <RequestId>40f8a6b3-8625-11e9-ad9e-3d87012503c9</RequestId>
          </ResponseMetadata>
        </CreateStackResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:18 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173018Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 41b0848b-8625-11e9-b162-3fe7da1d4c95
      Content-Type:
      - text/xml
      Content-Length:
      - '1502'
      Date:
      - Mon, 03 Jun 2019 17:30:18 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <StackStatusReason>User Initiated</StackStatusReason>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>41b0848b-8625-11e9-b162-3fe7da1d4c95</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:18 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173018Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 41f5f292-8625-11e9-900d-edb65e53a196
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Mon, 03 Jun 2019 17:30:18 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>41f5f292-8625-11e9-900d-edb65e53a196</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:19 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173024Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 4534060b-8625-11e9-956a-dd4dc19d219e
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Mon, 03 Jun 2019 17:30:23 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>4534060b-8625-11e9-956a-dd4dc19d219e</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:24 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173029Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 4875eae3-8625-11e9-81d3-31301fafe549
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Mon, 03 Jun 2019 17:30:29 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>4875eae3-8625-11e9-81d3-31301fafe549</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:30 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173035Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 4bb38982-8625-11e9-b66a-e515bc30a507
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Mon, 03 Jun 2019 17:30:35 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>4bb38982-8625-11e9-b66a-e515bc30a507</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:35 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173040Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 4eed7ec4-8625-11e9-81d3-31301fafe549
      Content-Type:
      - text/xml
      Content-Length:
      - '1440'
      Date:
      - Mon, 03 Jun 2019 17:30:40 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_IN_PROGRESS</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>4eed7ec4-8625-11e9-81d3-31301fafe549</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:40 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173045Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 52294994-8625-11e9-81d3-31301fafe549
      Content-Type:
      - text/xml
      Content-Length:
      - '1738'
      Date:
      - Mon, 03 Jun 2019 17:30:46 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <ExportName>openstax-aws-ruby-secrets-secrets-dsl-spec-main-BucketArn</ExportName>
                    <OutputKey>BucketArn</OutputKey>
                    <OutputValue>arn:aws:s3:::aws-ruby-spec-secrets-dsl-create</OutputValue>
                  </member>
                </Outputs>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>CREATE_COMPLETE</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>52294994-8625-11e9-81d3-31301fafe549</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:46 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173046Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - da5a7274-eacd-47aa-a8d8-b911dbf1ac19
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '843'
      Date:
      - Mon, 03 Jun 2019 17:30:46 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","LastModifiedDate":1.559583016009E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","Type":"String","Value":"howdy
        y''all","Version":1},{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","LastModifiedDate":1.55958301562E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","Type":"String","Value":"https://something-deployment-specific","Version":1},{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/random","LastModifiedDate":1.559583015245E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/random","Type":"String","Value":"5c391c32","Version":1}]}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:46 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173046Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 0416cfbd-aa5f-42a9-b48e-eef57e586a07
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '843'
      Date:
      - Mon, 03 Jun 2019 17:30:46 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","LastModifiedDate":1.559583016009E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","Type":"String","Value":"howdy
        y''all","Version":1},{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","LastModifiedDate":1.55958301562E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","Type":"String","Value":"https://something-deployment-specific","Version":1},{"ARN":"arn:aws:ssm:us-east-2:AWS_ACCOUNT_ID:parameter/openstax-aws-ruby-secrets/secrets-dsl-spec/random","LastModifiedDate":1.559583015245E9,"Name":"/openstax-aws-ruby-secrets/secrets-dsl-spec/random","Type":"String","Value":"5c391c32","Version":1}]}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:47 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Names":["/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","/openstax-aws-ruby-secrets/secrets-dsl-spec/random"]}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.DeleteParameters
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173047Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - c0ccd2cccb043badb558696217670e89f79e6cb2369b381bd932e8eaffdd4dc8
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '193'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 826b1ad3-ef27-4854-a389-ba7655e7ea5b
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '228'
      Date:
      - Mon, 03 Jun 2019 17:30:47 GMT
    body:
      encoding: UTF-8
      string: '{"DeletedParameters":["/openstax-aws-ruby-secrets/secrets-dsl-spec/for_shared_substitution","/openstax-aws-ruby-secrets/secrets-dsl-spec/interpolated","/openstax-aws-ruby-secrets/secrets-dsl-spec/random"],"InvalidParameters":[]}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:47 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DeleteStack&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173047Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - a5000bf791a40989964ea0e8de9c3104f1c1bb65e6267d7cc59c4bcec8b9f3d4
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '95'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 5325d133-8625-11e9-9465-4f482f63f896
      Content-Type:
      - text/xml
      Content-Length:
      - '212'
      Date:
      - Mon, 03 Jun 2019 17:30:48 GMT
    body:
      encoding: UTF-8
      string: |
        <DeleteStackResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <ResponseMetadata>
            <RequestId>5325d133-8625-11e9-9465-4f482f63f896</RequestId>
          </ResponseMetadata>
        </DeleteStackResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:48 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173048Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 537a80e8-8625-11e9-81d3-31301fafe549
      Content-Type:
      - text/xml
      Content-Length:
      - '1803'
      Date:
      - Mon, 03 Jun 2019 17:30:48 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <ExportName>openstax-aws-ruby-secrets-secrets-dsl-spec-main-BucketArn</ExportName>
                    <OutputKey>BucketArn</OutputKey>
                    <OutputValue>arn:aws:s3:::aws-ruby-spec-secrets-dsl-create</OutputValue>
                  </member>
                </Outputs>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>DELETE_IN_PROGRESS</StackStatus>
                <DeletionTime>2019-06-03T17:30:47.998Z</DeletionTime>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>537a80e8-8625-11e9-81d3-31301fafe549</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:48 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173048Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 53bda4ff-8625-11e9-ad9e-3d87012503c9
      Content-Type:
      - text/xml
      Content-Length:
      - '1803'
      Date:
      - Mon, 03 Jun 2019 17:30:48 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <ExportName>openstax-aws-ruby-secrets-secrets-dsl-spec-main-BucketArn</ExportName>
                    <OutputKey>BucketArn</OutputKey>
                    <OutputValue>arn:aws:s3:::aws-ruby-spec-secrets-dsl-create</OutputValue>
                  </member>
                </Outputs>
                <CreationTime>2019-06-03T17:30:18.074Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-2:AWS_ACCOUNT_ID:stack/openstax-aws-ruby-secrets-secrets-dsl-spec-main/41063ab0-8625-11e9-9a7e-0a71b7d84638</StackId>
                <StackName>openstax-aws-ruby-secrets-secrets-dsl-spec-main</StackName>
                <Description>Secrets DSL spec
        </Description>
                <StackStatus>DELETE_IN_PROGRESS</StackStatus>
                <DeletionTime>2019-06-03T17:30:47.998Z</DeletionTime>
                <DisableRollback>false</DisableRollback>
                <Tags/>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>BucketName</ParameterKey>
                    <ParameterValue>aws-ruby-spec-secrets-dsl-create</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SomeSha</ParameterKey>
                    <ParameterValue>1b2ebfd91dd9fb34d58c834cbb70a21c6479ba8e</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>53bda4ff-8625-11e9-ad9e-3d87012503c9</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:49 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=openstax-aws-ruby-secrets-secrets-dsl-spec-main&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-cloudformation/1.17.0
      Host:
      - cloudformation.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173054Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - bba9ab149be09911f60e83e18c4e577ef4401099a40abc92d767daf01234db21
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token,
        Signature=<SignatureValue>
      Content-Length:
      - '98'
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Amzn-Requestid:
      - 56fe027a-8625-11e9-add5-012a71697fc5
      Content-Type:
      - text/xml
      Content-Length:
      - '333'
      Date:
      - Mon, 03 Jun 2019 17:30:54 GMT
      Connection:
      - close
    body:
      encoding: UTF-8
      string: |
        <ErrorResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <Error>
            <Type>Sender</Type>
            <Code>ValidationError</Code>
            <Message>Stack with id openstax-aws-ruby-secrets-secrets-dsl-spec-main does not exist</Message>
          </Error>
          <RequestId>56fe027a-8625-11e9-add5-012a71697fc5</RequestId>
        </ErrorResponse>
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:54 GMT
- request:
    method: post
    uri: https://ssm.us-east-2.amazonaws.com/
    body:
      encoding: UTF-8
      string: '{"Path":"/openstax-aws-ruby-secrets/secrets-dsl-spec","Recursive":true,"WithDecryption":true}'
    headers:
      Content-Type:
      - application/x-amz-json-1.1
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.48.2 ruby/2.5.0 x86_64-darwin17 aws-sdk-ssm/1.41.0
      X-Amz-Target:
      - AmazonSSM.GetParametersByPath
      Host:
      - ssm.us-east-2.amazonaws.com
      X-Amz-Date:
      - 20190603T173054Z
      X-Amz-Security-Token:
      - AWS_SESSION_TOKEN
      X-Amz-Content-Sha256:
      - 143dbfec25b71a28dd19fe23104b66fc653a86871a7124b567e824197eaa4420
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20190603/us-east-2/ssm/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date;x-amz-security-token;x-amz-target,
        Signature=<SignatureValue>
      Content-Length:
      - '93'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - f53f0d7e-44a9-4d83-aa46-5302c14dd534
      Content-Type:
      - application/x-amz-json-1.1
      Content-Length:
      - '17'
      Date:
      - Mon, 03 Jun 2019 17:30:54 GMT
    body:
      encoding: UTF-8
      string: '{"Parameters":[]}'
    http_version: 
  recorded_at: Mon, 03 Jun 2019 17:30:54 GMT
recorded_with: VCR 4.0.0
